<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
	
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	
	<meta name="author" content="Shubham Kumar">
	
	<meta charset="UTF-8">
	<title>Innovaccer | Visitor Entry</title>

	<link href="https://fonts.googleapis.com/css?family=Poppins:400,600|Roboto:400,400i,500" rel="stylesheet">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" href="css/vendor/bootstrap.min.css">
	<link rel="stylesheet" href="css/vendor/animate.min.css">
	<link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/main1.css">

    
    <style>
        #loader{
             position: fixed;
            left: 0px;
            top: 0px;
            width: 100%;
            height: 100%;
            z-index: 9999;
              background-size: 100px;
            background: url('../img/eclipse.gif') 50% 50% no-repeat rgb(249,249,249);

        }
    </style>
    
    
    
</head>

<body>
    
    <div id="loader" style="display:none">
            <div class="row " >
                <div class="col-12 text-center">
                    <p id="loader1" style="margin-top:35%;"></p>
                    
                </div>
            </div>
      
    </div>
    

    <nav class="navbar navbar-dark navbar-expand-sm fixed-top" id="navbar">
                <div class="container">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#Navbar">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <a class="navbar-brand " href="index.html"><img src="img/logo1.png" class="toplogo"></a>
                    <div class="collapse navbar-collapse justify-content-end" id="Navbar">
                        <ul class="navbar-nav ">
                                <li class="nav-item active"><a class="nav-link" href="/">Home</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://github.com/kshubham506" target="_blank">Github</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://drive.google.com/open?id=1WBv-n8vPjhqjSzdmCRA0d_T2RkEAvQya" target="_blank">My CV</a></li>
                                <li class="nav-item "><a class="nav-link" href="#footer">My Projects</a></li>
                        </ul>
                    
                    </div>
                </div>
    </nav>



	<section class="home-banner-area " id="banner">
		<div class="container">
			<div class="row fullscreen d-flex align-items-center ">
                
                    <div id="ckin" class="home-banner-content col-12 col-md-6 wow fadeInLeft" >
                        
                        <div class="row ">
                            <div class="col-12 ">
                                   <div class="col-12 col-md-10  text-center" style="margin-top: 30px">


                                        <form class="regform" action="#"  enctype="multipart/form-data">

                                            <h3>CHECK IN</h3><br>

                                            <div class="form-group row">
                                                    <div class="col-12 text-left">
                                                      <!--  <label for="pname" class="col-12 col-form-label ">Full Name</label> -->
                                                        <input type="text" class="form-control" id="pname" required placeholder="Full Name">
                                                    </div> 
                                            </div>  

                                            <div class="form-group row">
                                                    <div class="col-12 text-left">
                                                       <!-- <label for="pphone" class="col-12 col-form-label">Phone</label> -->
                                                        <input type="number" class="form-control" id="pphone" required placeholder="Phone Number">
                                                    </div> 
                                            </div>

                                            <div class="form-group row">
                                                    <div class="col-12 text-left">
                                                       <!-- <label for="ppin" class="col-3 col-form-label">Pin Code</label> -->
                                                        <input type="email" class="form-control" id="pemail" required placeholder="Email ID">
                                                    </div> 
                                            </div>
                                            
                                               
                                            <div class="form-group row">
                                                <div class="col-12 text-left">
                                                    <span id="hostbut" class="fa fa-angle-right"> Host Information</span>
                                                        <div id="hostinfo" class="container" style="display: block">
                                                            <div class="form-group row">
                                                                    <div class="col-12 text-left">                                            
                                                                        <input type="text" class="form-control" id="pname2" placeholder="Host Full Name" >
                                                                    </div> 
                                                                </div>  

                                                                <div class="form-group row">
                                                                        <div class="col-12 text-left">
                                                                          
                                                                            <input type="number" class="form-control" id="pphone2"  placeholder="Host Number(Must start with 91)" >
                                                                        </div> 
                                                                </div>

                                                                <div class="form-group row">
                                                                        <div class="col-12 text-left">
                                                                          
                                                                            <input type="email" class="form-control" id="pemail2"  placeholder="Host Email ID" >
                                                                        </div> 
                                                                </div>
                                                    
                                                        </div>
                                                </div>
                                            </div>


                                            <div class="form-group row">
                                                <div class="col-12 text-center">
                                                       <button type="button" class="btn btn-info" style="padding:7px;" name="sub" onclick="action1('checkin')">CHECK IN</button>
                                                </div> 
                                            </div>

                                            <p style="color:red;" id="err">

                                            </p>
                                         

                                    </form>

                                    </div>

                            </div>
                        </div>
                        
       
                    </div>
                
                
                    <div id="ckout" class="home-banner-content col-12 col-md-6 wow fadeInLeft" style="display: none">
                        
                        <div class="row ">
                            <div class="col-12 ">
                                   <div class="col-12 col-md-10  text-center" style="margin-top: 30px">


                                        <form class="regform" action="#"  enctype="multipart/form-data">

                                            <h3>CHECK OUT</h3><br>

                                            <div class="form-group row">
                                                    <div class="col-12 text-left">
                                                      <!--  <label for="pname" class="col-12 col-form-label ">Full Name</label> -->
                                                        <input type="text" class="form-control" id="pname1" required placeholder="Full Name">
                                                    </div> 
                                            </div>  

                                            <div class="form-group row">
                                                    <div class="col-12 text-left">
                                                       <!-- <label for="pphone" class="col-12 col-form-label">Phone</label> -->
                                                        <input type="number" class="form-control" id="pphone1" required placeholder="Phone Number">
                                                    </div> 
                                            </div>

                                            <div class="form-group row">
                                                    <div class="col-12 text-left">
                                                       <!-- <label for="ppin" class="col-3 col-form-label">Pin Code</label> -->
                                                        <input type="email" class="form-control" id="pemail1" required placeholder="Email ID">
                                                    </div> 
                                            </div>

                                            <p >Enter the same details used during checkin.</p>
                                            <div class="form-group row">
                                                <div class="col-12 text-center">
                                                       <button type="button" class="btn btn-info" style="padding:7px;" name="sub" onclick="action1('checkout')">CHECK OUT</button>
                                                </div> 
                                            </div>

                                            <p style="color:red;" id="err1">

                                            </p>

                                    </form>

                                    </div>

                            </div>
                        </div>
                        
       
                    </div>


                    <!--right side-->
                    <div class="col-12 col-md-6  text-center ">
                        <div class="row">
                            <div class="col-12 " align="center">
                                  <a  id="ckoutbtn" href="#" onclick="ckoutshow()" class="square_btn wow fadeInRight" style="padding: 20px;"><h4 style="color: white">Want to Checkout ?</h4></a>
                                    <a id="ckinbtn" href="#" onclick="ckinshow()" class="square_btn wow fadeInRight" style="padding: 20px;display:none" ><h4 style="color: white">Want to Checkin ?</h4></a>
                            </div>
                        </div>
				    </div>
			</div>
        </div>
	</section>


	


	<footer class="footer-area section-gap" id="footer">
		<div class="container">
			<div class="row">
				<div class="col-12 col-sm-3 single-footer-widget">
					<h4>My Other Projects</h4>
					<ul>
						<li><a href="https://play.google.com/store/apps/details?id=com.sktechhub.sktechums" target="_blank">YUMS App</a></li>
						<li><a href="#" onclick="codecompile()">Code Compile Bot</a></li>
                        <li><a href="#">Shopping Deal Scrapper</a></li>
                        <li><a href="#">AllCare : Schedule Appointments</a></li>
					</ul>
				</div>
				
                <div class="col-l2 col-sm-9 ">
                    <div class="row align-items-center">
                            <div class="col-12" align="center">

                                    <h4>By Shubham Kumar</h4>
                            </div>
                    </div>
                </div>
			
			</div>
            
            <br><br><br>

		</div>
	</footer>


	<script src="js/vendor/jquery.min.js"></script>
	<script src="js/vendor/popper.min.js"></script>
	<script src="js/vendor/tilt.jquery.min.js"></script>
    <script src="js/vendor/wow.min.js"></script>
	<script src="js/vendor/bootstrap.min.js"></script>
    <script src="js/main.js"></script>

    
    
    
    <script>
        
            $(window).load(function() {
                  new WOW().init();
            }); 

            $(document).ready(function(){

            });

            $(function () {
                $(document).scroll(function ()
               {
                    var $nav = $(".navbar");
                    $nav.toggleClass('navbar-scroll', $(this).scrollTop() > $nav.height());

                });
            }); 
        
            $("#hostbut").click(function(){
                $("#hostinfo").toggle('slow');    
            });
            
            function codecompile(){
                alert("This is a telegram bot , and some isps amy have blocked Telegram so if the link doesn't open just serach @codecompilebot in telegram app.")
                window.open("http://t.me/codecompilebot","_blank");
            }
        
            function ckoutshow(){
                
                  $("#err").text("");
                $("#err1").text("");
                $("#pname").val('');
                $("#pphone").val('');
                $("#pemail").val('');
                $("#pname1").val('');
                $("#pphone1").val('');
                $("#pemail1").val('');
                
                
                $("#ckin").hide();
                $("#ckout").show();
                 $("#ckinbtn").show();
                $("#ckoutbtn").hide();
                
                $("#ckout").removeClass("wow fadeInLeft");
                $("#ckinbtn").removeClass("wow fadeInRight");
                
                 $("#ckin").addClass("animated fadeInLeft");
                $("#ckoutbtn").addClass("animated  fadeInRight");
            }
        
            function ckinshow(){
                
                $("#err").text("");
                $("#err1").text("");
                $("#pname").val('');
                $("#pphone").val('');
                $("#pemail").val('');
                $("#pname1").val('');
                $("#pphone1").val('');
                $("#pemail1").val('');
                
                
                $("#ckin").show();
                $("#ckout").hide();
                 $("#ckinbtn").hide();
                $("#ckoutbtn").show();
                
                $("#ckin").removeClass("wow fadeInLeft");
                $("#ckoutbtn").removeClass("wow fadeInRight");
                
                $("#ckout").addClass("animated  fadeInLeft");
                $("#ckinbtn").addClass("animated  fadeInRight");
            }
        
            function validateEmail(emailField){
                   if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailField))
                      {
                        return (true)
                      }
                       // alert("You have entered an invalid email address!")
                        return (false)

            }
      
            function action1(act){
                
                var name='',phone='',email='',hname='',hphone='',hemail='';
                var k=0;
                var msg="";
                if(act=="checkin"){
                    name=$("#pname").val();
                    phone=$("#pphone").val();
                    email=$("#pemail").val();
                    
                    hname=$("#pname2").val();
                    hphone=$("#pphone2").val();
                    hemail=$("#pemail2").val();
                    
                    if(hname!=undefined && hphone!=undefined && hemail!=undefined && hphone.length>3 && hname.length>3 &&  hemail.length>3) 
                    {
                        if(hphone.length!=12 && !hphone.startsWith("91")){
                            k=1;
                            msg+="Add 91 before Host Phone Number!\n";
                        }
                        if(!validateEmail(hemail)){
                            k=1;
                            msg+="Enter a valid Host Email Id!\n";
                        }
                    }
                    else{
                         k=1;
                        msg+="Enter Host's Info!\n";
                    }
                }
                else if(act=="checkout"){
                    name=$("#pname1").val();
                    phone=$("#pphone1").val();
                    email=$("#pemail1").val();
                }
                
                
                
                if(name!=undefined && phone!=undefined && email!=undefined && phone.length>3 && name.length>3 &&  email.length>3) 
                {
                   
                    
                   
                    if(phone.length!=10){
                        k=1;
                        msg+="Enter a valid Indian Phone Number!\n";
                    }
                    if(!validateEmail(email)){
                        k=1;
                        msg+="Enter a valid Email Id!\n";
                    }
                    if(k==0)
                    {
                        $("#loader").css("background", "url('img/eclipse.gif') 50% 50% no-repeat rgb(249,249,249)"); 
                        $("#loader").css("background-size","100px");
                        $("#loader").show();
                        $("#loader1").text("");
                        
                        if(act=="checkin")
                        {
                            
                             $.ajax({
                                url: ' http://localhost:3000/checkin?name='+name+"&email="+email+"&phone="+phone+'&hostname='+hname+"&hostmail="+hemail+"&hostphone="+hphone,
                                error: function (request, error)
                                    {
                                  
                                    $("#loader1").text("Server Error.");
                                     var img='img/close.png';
                                     $("#loader").css("background", "url(" + img + ") 50% 50% no-repeat rgb(249,249,249)"); 
                                   $("#loader").css("background-size","100px");

                                   document.getElementById("err").innerHTML="Server Error !! Try Again Later.";
                                   setTimeout(function(){
                                            $("#loader").hide();
                                        },3000);
                                },
                                success: function (result) 
                                {
                                    //$("#loader").hide();
                                    result=JSON.parse(result);
                                    console.log(result);
                                    $("#loader1").text(result.msg)
                                    $("#err").text(result.msg)
                                    
                                    if(result.status==200 || result.status==201){
                                         var img='img/confirmed.gif';
                                         $("#loader").css("background", "url(" + img + ") 50% 50% no-repeat rgb(249,249,249)"); 
                                       $("#loader").css("background-size","100px");
                                    }
                                    else{
                                        var img='img/close.png';
                                         $("#loader").css("background", "url(" + img + ") 50% 50% no-repeat rgb(249,249,249)"); 
                                       $("#loader").css("background-size","100px");
                                    }

                                    setTimeout(function(){
                                            $("#loader").hide();
                                        },3000);



                                },
                                async: true
                            });
                        }
                        else if(act=="checkout")
                        {
                                
                            $.ajax({
                                url: ' http://localhost:3000/checkout?name='+name+"&email="+email+"&phone="+phone,
                                error: function (request, error)
                                    {
                                   var img='img/close.png';
                                    $("#loader1").text("Server Error.");
                                     $("#loader").css("background", "url(" + img + ") 50% 50% no-repeat rgb(249,249,249)"); 


                                   $("#loader").css("background-size","100px");

                                   document.getElementById("err").innerHTML="Server Error !! Try Again Later.";
                                   setTimeout(function(){
                                            $("#loader").hide();
                                        },3000);
                                },
                                success: function (result) 
                                {
                                    //$("#loader").hide();
                                    result=JSON.parse(result);
                                    console.log(result);
                                    $("#loader1").text(result.msg)
                                    $("#err1").text(result.msg)
                                    
                                    if(result.status==200 || result.status==201){
                                         var img='img/confirmed.gif';
                                         $("#loader").css("background", "url(" + img + ") 50% 50% no-repeat rgb(249,249,249)"); 
                                       $("#loader").css("background-size","100px");
                                    }
                                    else{
                                        var img='img/close.png';
                                         $("#loader").css("background", "url(" + img + ") 50% 50% no-repeat rgb(249,249,249)"); 
                                       $("#loader").css("background-size","100px");
                                    }


                                    setTimeout(function(){
                                            $("#loader").hide();
                                            //$("$loader1").text(result);
                                        },1000);



                                },
                                async: true
                            });
                        }
                        
                         
                    }
                    else
                    {
                         $("#err").text(msg);
                        $("#err1").text(msg);
                        alert(msg);
                    }
                        
                }
                else{
                    $("#err").text("You need to enter the required fields.");
                    $("#err1").text("You need to enter the required fields.");
                    alert("You need to enter the required fields.");
                }
                
                
            }

    </script>
</body>

</html>